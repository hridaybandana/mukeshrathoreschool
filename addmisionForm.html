<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Admission Form | Mukesh Rathore School</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" href="/css/style.css">

    <!-- Page-specific styles -->
    <style>
        :root {
            --brand: #003366;
            --muted: #6b7280;
            --card: #fff;
            --bg: #f7f8fb;
        }

        body {
            background: var(--bg);
            font-family: Arial, Helvetica, sans-serif;
            color: #222;
        }

        .admission-banner {
            padding: 180px 20px 40px;
            text-align: center;
            background: linear-gradient(135deg, #fefefe, #f1f6ff);
        }

        .admission-wrap {
            max-width: 1000px;
            margin: -70px auto 60px;
            padding: 24px;
            background: var(--card);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            border-radius: 8px;
            border-left: 6px solid var(--brand);
        }

        /* form header */
        .form-header {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .school-logo {
            width: 110px;
            height: 110px;
            object-fit: contain;
        }

        .school-title {
            flex: 1;
        }

        .school-title h1 {
            margin: 0;
            color: var(--brand);
            font-size: 22px;
            letter-spacing: 0.4px;
        }

        .school-title p {
            margin: 4px 0 0;
            color: var(--muted);
            font-size: 14px;
        }

        /* registration box */
        .reg-box {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .reg-inputs {
            display: flex;
            gap: 6px;
        }

        .reg-inputs input[type="text"] {
            width: 28px;
            height: 28px;
            text-align: center;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-weight: 600;
        }

        .for-office {
            font-size: 12px;
            color: var(--muted);
            text-align: center;
        }

        hr.sep {
            border: none;
            border-top: 1px solid #eee;
            margin: 18px 0;
        }

        /* form layout */
        form.adm-form {
            display: block;
        }

        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 14px;
        }

        .full {
            grid-column: 1/-1
        }

        label {
            display: block;
            font-weight: 600;
            margin-bottom: 6px;
            color: var(--brand);
            font-size: 13px;
        }

        input[type="text"],
        input[type="date"],
        input[type="email"],
        input[type="tel"],
        select,
        textarea {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            background: white;
        }

        textarea {
            min-height: 90px;
            resize: vertical;
        }

        .small {
            padding: 8px 10px;
            font-size: 13px;
        }

        .hint {
            font-size: 12px;
            color: var(--muted);
            margin-top: 6px;
        }

        /* file preview */
        .file-row {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .file-preview {
            width: 120px;
            height: 120px;
            border: 1px dashed #cbd5e1;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #fafafa;
            border-radius: 6px;
            overflow: hidden;
        }

        .file-preview img {
            max-width: 100%;
            max-height: 100%;
            object-fit: cover;
        }

        /* actions */
        .actions {
            display: flex;
            gap: 12px;
            margin-top: 18px;
            align-items: center;
        }

        .btn {
            padding: 12px 18px;
            background: var(--brand);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 700;
        }

        .btn.secondary {
            background: #6b7280;
        }

        .note {
            font-size: 13px;
            color: var(--muted);
        }

        /* responsive */
        @media (max-width:800px) {
            .grid {
                grid-template-columns: 1fr;
            }

            .form-header {
                flex-direction: column;
                text-align: center;
            }

            .school-logo {
                width: 90px;
                height: 90px;
            }

            .reg-box {
                justify-content: center;
            }
        }
    </style>
</head>

<body>
    <!-- header (same pattern as other pages) -->
    <div id="header" style="margin-top: 140px;"></div>

    <section class="admission-banner">
        <h1>Admission Form</h1>
        <p style="color:var(--muted); margin-top:6px; text-align: center;">Please fill the form carefully. Fields marked
            * are mandatory.
        </p>
    </section>

    <main class="admission-wrap" style="margin-top: 10px;">
        <div class="form-header">
            <img src="/images/HR Logo.png" alt="School Logo" class="school-logo">
            <div class="school-title">
                <h1 style="font-size: 120%;">Mukesh Rathore School</h1>
                <p style="text-align: center;">Admission Form — For Office Use & Student Records</p>
                <p class="hint" style="text-align: center;">Academic Session: 2025–26</p>
            </div>

            <div class="reg-box">
                <div>
                    <div style="font-weight:700; color:var(--muted); text-align:center">Registration No.</div>
                    <div class="reg-inputs" style="margin-top:6px;">
                        <input type="text" maxlength="1" id="reg1" />
                        <input type="text" maxlength="1" id="reg2" />
                        <input type="text" maxlength="1" id="reg3" />
                        <input type="text" maxlength="1" id="reg4" />
                        <input type="text" maxlength="1" id="reg5" />
                        <input type="text" maxlength="1" id="reg6" />
                    </div>
                    <div class="for-office">for office use only</div>
                </div>
            </div>
        </div>

        <hr class="sep">

        <form id="admissionForm" class="adm-form" autocomplete="off" novalidate>
            <div class="grid">
                <div>
                    <label for="formNo">Form No.</label>
                    <input type="text" id="formNo" name="formNo" placeholder="Auto / Office use">
                </div>

                <div>
                    <label for="issueDate">Date of Issue *</label>
                    <input type="date" id="issueDate" name="issueDate" required>
                </div>

                <div>
                    <label for="surname">Surname *</label>
                    <input type="text" id="surname" name="surname" required>
                </div>

                <div>
                    <label for="studentName">Name (In BLOCK letters) *</label>
                    <input type="text" id="studentName" name="studentName" required>
                </div>

                <div>
                    <label for="fatherName">Father's Name *</label>
                    <input type="text" id="fatherName" name="fatherName" required>
                </div>

                <div>
                    <label for="motherName">Mother's Name *</label>
                    <input type="text" id="motherName" name="motherName" required>
                </div>

                <div>
                    <label for="aadhar">Aadhar Card No.</label>
                    <input type="text" id="aadhar" name="aadhar" inputmode="numeric" pattern="\d{12}"
                        placeholder="123412341234">
                    <div class="hint">Enter 12 digit Aadhar (optional)</div>
                </div>

                <div>
                    <label for="dob">Date of Birth (DD/MM/YYYY) *</label>
                    <input type="date" id="dob" name="dob" required>
                </div>

                <div>
                    <label for="dobWords">Date of Birth (In Words)</label>
                    <input type="text" id="dobWords" name="dobWords"
                        placeholder="E.g. Seventh December Two Thousand One">
                </div>

                <div>
                    <label for="placeBirth">Place of Birth</label>
                    <input type="text" id="placeBirth" name="placeBirth">
                </div>

                <div>
                    <label for="cityBirth">City</label>
                    <input type="text" id="cityBirth" name="cityBirth">
                </div>

                <div>
                    <label for="distBirth">District</label>
                    <input type="text" id="distBirth" name="distBirth">
                </div>

                <div>
                    <label for="stateBirth">State</label>
                    <input type="text" id="stateBirth" name="stateBirth">
                </div>

                <div>
                    <label for="physical">Physical problems / Disability (if any)</label>
                    <input type="text" id="physical" name="physical" placeholder="Specify or 'None'">
                </div>

                <div>
                    <label for="caste">Caste</label>
                    <input type="text" id="caste" name="caste">
                </div>

                <div>
                    <label for="motherTongue">Mother Tongue</label>
                    <input type="text" id="motherTongue" name="motherTongue">
                </div>

                <div>
                    <label for="category">Category (GEN/OBC/SC/ST)</label>
                    <select id="category" name="category">
                        <option value="">-- Select --</option>
                        <option>General</option>
                        <option>OBC</option>
                        <option>SC</option>
                        <option>ST</option>
                        <option>Other</option>
                    </select>
                </div>

                <div>
                    <label for="religion">Religion</label>
                    <input type="text" id="religion" name="religion">
                </div>

                <div class="full">
                    <label for="lastSchool">Name of the School Last Attended</label>
                    <input type="text" id="lastSchool" name="lastSchool">
                </div>

                <div>
                    <label for="standard">Standard to which admission is sought *</label>
                    <select id="standard" name="standard" required>
                        <option value="">-- Select Class --</option>
                        <option>Class I</option>
                        <option>Class II</option>
                        <option>Class III</option>
                        <option>Class IV</option>
                        <option>Class V</option>
                        <option>Class VI</option>
                        <option>Class VII</option>
                        <option>Class VIII</option>
                        <option>Class IX</option>
                        <option>Class X</option>
                    </select>
                </div>

                <div class="full">
                    <label for="resAddress">Residential Address *</label>
                    <textarea id="resAddress" name="resAddress" required
                        placeholder="Full residential address"></textarea>
                </div>

                <div>
                    <label for="resCity">City</label>
                    <input type="text" id="resCity" name="resCity">
                </div>

                <div>
                    <label for="resState">State</label>
                    <input type="text" id="resState" name="resState">
                </div>

                <div>
                    <label for="pin">Pin Code</label>
                    <input type="text" id="pin" name="pin" inputmode="numeric">
                </div>

                <div>
                    <label for="blood">A) Blood Group *</label>
                    <input type="text" id="blood" name="blood" required placeholder="e.g. B+">
                </div>

                <div>
                    <label for="idMark">B) Identification Mark</label>
                    <input type="text" id="idMark" name="idMark">
                </div>

                <div>
                    <label for="emergencyName">Emergency Contact Name *</label>
                    <input type="text" id="emergencyName" name="emergencyName" required>
                </div>

                <div>
                    <label for="emergencyPhone">Emergency Phone *</label>
                    <input type="tel" id="emergencyPhone" name="emergencyPhone" required>
                </div>

                <div class="full">
                    <label>Guardian / Parent Details</label>
                    <div style="display:flex; gap:8px;">
                        <input type="text" id="guardianName" name="guardianName" placeholder="Guardian's name">
                        <input type="text" id="guardianRelation" name="guardianRelation"
                            placeholder="Relation (Father/Mother/Other)">
                        <input type="tel" id="guardianPhone" name="guardianPhone" placeholder="Contact number">
                    </div>
                </div>

                <!-- Documents & Photo -->
                <div>
                    <label for="dobCert">Attach DOB Certificate (pdf/image)</label>
                    <input type="file" id="dobCert" accept="image/*,.pdf">
                </div>

                <div>
                    <label for="photo">Student Photo (passport size)</label>
                    <input type="file" id="photo" accept="image/*">
                </div>

                <div class="full">
                    <label for="documents">Other Documents (Aadhar / Transfer / Previous Marksheet)</label>
                    <input type="file" id="documents" accept="image/*,.pdf" multiple>
                </div>

                <div class="full">
                    <label>Declaration *</label>
                    <p class="note">I hereby declare that the information given above is true to the best of my
                        knowledge and belief.</p>
                    <div style="display:flex; gap:12px; align-items:center; margin-top:8px;">
                        <input type="text" id="parentName" name="parentName" placeholder="Parent/Guardian Name" required
                            class="small">
                        <input type="text" id="relationSign" name="relationSign" placeholder="Relation" required
                            class="small">
                        <input type="date" id="signDate" name="signDate" required class="small">
                    </div>
                </div>

            </div><!-- grid end -->

            <div class="actions">
                <button type="submit" class="btn">Submit Application</button>
                <button type="button" id="resetBtn" class="btn secondary">Reset</button>
                <div style="flex:1; text-align:right;"><button type="button" id="printBtn" class="btn secondary">Print
                        Form</button></div>
            </div>

            <p class="hint" style="margin-top:12px;">After submission you will receive a confirmation (demo). Later we
                will connect this form to Google Sheets / backend for real processing.</p>
        </form>
    </main>

    <!-- footer -->
    <div id="footer"></div>

    <!-- load header/footer -->
    <script>
        fetch("/header.html")
            .then(r => r.text()).then(t => document.getElementById('header').innerHTML = t);
        fetch("/footer.html")
            .then(r => r.text()).then(t => document.getElementById('footer').innerHTML = t);
    </script>

    <!-- page JS -->
    <script>
        // small utilities for this demo form
        const form = document.getElementById('admissionForm');
        const photoInput = document.getElementById('photo');
        const dobCertInput = document.getElementById('dobCert');
        const resetBtn = document.getElementById('resetBtn');
        const printBtn = document.getElementById('printBtn');

        // quick validation + demo submit
        form.addEventListener('submit', function (e) {
            e.preventDefault();
            // simple required fields check
            const required = ['issueDate', 'surname', 'studentName', 'fatherName', 'motherName', 'dob',
                'standard', 'resAddress', 'blood', 'emergencyName', 'emergencyPhone', 'parentName',
                'relationSign', 'signDate'
            ];
            for (const id of required) {
                const el = document.getElementById(id);
                if (!el || !el.value.trim()) {
                    el && el.focus();
                    alert('Please fill the required field: ' + (el.previousElementSibling ? el
                        .previousElementSibling.innerText : id));
                    return;
                }
            }
            // demo result
            alert('Application submitted (demo). You can later connect this to a backend or Google Sheets.');
            // optionally clear or keep data
        });

        // reset
        resetBtn.addEventListener('click', () => {
            if (confirm('Reset the form?')) {
                form.reset();
            }
        });

        // print
        printBtn.addEventListener('click', () => {
            window.print();
        });

        // allow single-digit reg entry auto-focus
        const regInputs = Array.from(document.querySelectorAll('.reg-inputs input'));
        regInputs.forEach((el, idx) => {
            el.addEventListener('input', (e) => {
                if (el.value.length >= 1 && idx < regInputs.length - 1) regInputs[idx + 1].focus();
            });
            el.addEventListener('keydown', (e) => {
                if (e.key === 'Backspace' && !el.value && idx > 0) regInputs[idx - 1].focus();
            });
        });

        // basic file preview (for photo only)
        photoInput && photoInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = function (ev) {
                // create a preview box if not present
                let prev = document.querySelector('.file-preview-photo');
                if (!prev) {
                    prev = document.createElement('div');
                    prev.className = 'file-preview file-preview-photo';
                    photoInput.parentNode.insertBefore(prev, photoInput.nextSibling);
                }
                prev.innerHTML = '<img src="' + ev.target.result + '" alt="photo">';
            };
            reader.readAsDataURL(file);
        });

        // simple DOB -> DOB in words helper (not perfect)
        const dob = document.getElementById('dob');
        dob && dob.addEventListener('change', () => {
            const v = dob.value;
            if (!v) return;
            const d = new Date(v);
            const opts = {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            };
            document.getElementById('dobWords').value = d.toLocaleDateString('en-GB', opts);
        });
    </script>

    <script src="/js/main.js"></script>
</body>

</html>